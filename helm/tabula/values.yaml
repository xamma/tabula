depl:
  tabula:
    image:
      repository: ghcr.io/xamma/tabula
      tag: latest
    imagePullPolicy: Always
  replicas: 1
kubernetesClusterDomain: cluster.local

svc:
  ports:
  - port: 80
    protocol: TCP
    targetPort: 3000
  type: ClusterIP

ingress:
  enabled: false
  annotations:
    cert-manager.io/cluster-issuer: cloudflare-prod
    external-dns.alpha.kubernetes.io/target: d53a52f9-8999-4516-a49b-cbdb79c44102.cfargotunnel.com
    external-dns.alpha.kubernetes.io/hostname: tabula.xammaops.win
    nginx.ingress.kubernetes.io/auth-url: |-
        http://ak-outpost-test.common.svc.cluster.local:9000/outpost.goauthentik.io/auth/nginx
    nginx.ingress.kubernetes.io/auth-signin: |-
        https://homeid.xammaops.win/outpost.goauthentik.io/start?rd=$scheme://$http_host$escaped_request_uri
    nginx.ingress.kubernetes.io/auth-response-headers: |-
        Set-Cookie,X-authentik-username,X-authentik-groups,X-authentik-email,X-authentik-name,X-authentik-uid
    nginx.ingress.kubernetes.io/auth-snippet: |
        proxy_set_header X-Forwarded-Host $http_host;
  className: "nginx"
  hosts:
    - host: tabula.xammaops.win
      paths:
        - /
  tls:
    - secretName: tabula-tls
      hosts:
        - tabula.xammaops.win

csv:
  enabled: true
  pvcName: tabula-csv-pvc
  mountPath: /app/data/csv
  defaults:
    - name: sample.csv
      content: |
        col1,col2
        a,b
    - name: example.csv
      content: |
        foo,bar
        123,456
